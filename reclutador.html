<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reclutadora</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="reclutador.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap">
    <link rel="shortcut icon" href="img/logoIzq.png" type="image/x-icon">
</head>

<body>
    <header>
        <div class="logo">
            <a href="/">
                <img src="./img/logoIzq.png" alt="Logo de la empresa">
            </a>
        </div>
        <nav>
            <a href="#formulario">Formulario</a>
            <a href="#seguimiento">Seguimiento</a>
            <a href="#" onclick="logout()">Salir</a>
        </nav>
    </header>

    <main>
        <section id="formulario">
            <div class="filters">
                <div>
                    <label for="proyectos">Filtrar por proyectos</label>
                    <select id="proyectos" name="proyectos" class="selector-filtro">
                        <option value="">NINGUNO</option>
                        <option value="1">DERMA LIGH (26)</option>
                    </select>
                </div>
                <div class="container mt-5">

                    <div class="accordion" id="accordionExample">

                        <!-- Acordeones de Informacion -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    Información del proyecto
                                </button>
                            </h2>

                            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo">
                                <div class="accordion-body">

                                    <!-- Información proyecto DERMA LIGH (26) - conservada -->
                                    <div id="info1" class="info-proyecto">
                                        <h3>Información de Derma Ligh (26)</h3>
                                        <div class="piezareclu" style="text-align: center;">
                                            <img src="https://slconsulting.com.co/wp-content/uploads/2025/09/DermaLigh26.jpg"
                                                alt="imagenBebe">
                                        </div>
                                        <a href="https://slconsulting.com.co/wp-content/uploads/2025/09/DermaLigh26.jpg"
                                            download=".png" class="buttona">
                                            Descargar imagen
                                        </a>
                                        <div class="perfil-evaluacion">
                                            <h4>Perfil y marco de evaluación</h4>
                                            <ul>
                                                <li><strong>Usuarios:</strong> Crema antipañalitis</li>
                                                <li><strong>Ciudades:</strong> Bogotá, Cali</li>
                                                <li><strong>NSE:</strong> 2 al 5</li>
                                                <li><strong>Perfil:</strong> Mamás mayores de 20 años con bebés entre 0
                                                    a 6
                                                    meses, 100% nacionalidad colombiana que usen crema antipañalitis de
                                                    manera preventiva</li>
                                            </ul>
                                            <div class="incentivo">
                                                <span class="label-inc">INCENTIVO</span>
                                                <span class="valor-incentivo">$80.000</span>
                                            </div>
                                            <div class="reciben">
                                                <h4>Las participantes recibirán:</h4>
                                                <ul>
                                                    <li>1 Muestra a ciegas</li>
                                                    <li>1 Diario de campo</li>
                                                    <li>1 Carta de presentación</li>
                                                </ul>
                                            </div>
                                            <h4 style="margin-top: 8px; margin-bottom: 10px;">Condiciones y requisitos
                                                del
                                                participante</h4>
                                            <table class="tabla-condiciones">
                                                <thead>
                                                    <tr>
                                                        <th>Requisito</th>
                                                        <th>Detalle</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>1. Modalidad del estudio</td>
                                                        <td>De manera presencial. Se requiere disponibilidad de tiempo.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>2. Foto del producto</td>
                                                        <td>Proporcionar una foto del producto que usa.</td>
                                                    </tr>
                                                    <tr>
                                                        <td>3. Foto del comprobante de residencia</td>
                                                        <td>Proporcionar una foto legible que evidencie la dirección de
                                                            residencia con el NSE, no mayor a 2 meses de facturación.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>4. Foto del registro civil y/o certificado de nacido vivo
                                                        </td>
                                                        <td>Proporcionar una foto del registro civil y/o certificado de
                                                            nacido vivo.</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <!-- Replica de Condiciones y requisitos del participante -->
                                            <h4 style="margin-top: 25px; margin-bottom: 10px;">Metodología y tiempos del
                                                proyecto</h4>
                                            <table class="tabla-condiciones">
                                                <thead>
                                                    <tr>
                                                        <th>Requisito</th>
                                                        <th>Detalle</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>1. Filtro inicial por parte de la gestora</td>
                                                        <td>Aproximadamente 15 minutos (menos si no es efectivo).</td>
                                                    </tr>
                                                    <tr>
                                                        <td>2. Encuadre profesional</td>
                                                        <td>15 minutos.</td>
                                                    </tr>
                                                    <tr>
                                                        <td>3. Entrevista inicial</td>
                                                        <td>1 Hora (Presencial).</td>
                                                    </tr>
                                                    <tr>
                                                        <td>4. Estatus de recibo del producto</td>
                                                        <td>7 minutos.</td>
                                                    </tr>
                                                    <tr>
                                                        <td>5. Uso de muestra y evaluación</td>
                                                        <td>Uso de muestra por 7 días. Evaluación Monádica de 15
                                                            minutos.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>6. Entrevista final</td>
                                                        <td>Agendar entrevista final con acuerdo previo. aproximadamente
                                                            1
                                                            hora (Presencial).</td>
                                                    </tr>
                                                </tbody>
                                            </table>

                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <!-- Primer elemento del acordeón -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                    Formulario
                                </button>
                            </h2>

                            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne">
                                <div class="accordion-body">
                                    <!-- Formulario de DERMA LIGH (26)  -->
                                    <section id="form1" class="formulario-proyecto">
                                        <h2>Formulario de registro Derma Ligh (26)</h2>
                                        <form id="form1-form" class="two-column-form">
                                            <div class="form-column left">
                                                <label for="fechaEnvio">Fecha de envío</label>
                                                <input type="date" id="fechaEnvio" name="fechaEnvio" required>

                                                <label for="identificacion">Número de identificación</label>
                                                <input type="text" id="identificacion" name="identificacion"
                                                    maxlength="12" placeholder="Número de identificación..." required>

                                                <label for="nombre">Nombres y apellidos (completos)</label>
                                                <input type="text" id="nombre" name="nombre"
                                                    placeholder="Nombre completo... " required>

                                                <label for="nacionalidad">Nacionalidad</label>
                                                <select id="nacionalidad" name="nacionalidad" required>
                                                    <option value="" selected>Seleccione...</option>
                                                    <option value="COLOMBIA">Colombiana</option>
                                                </select>

                                                <label for="fechaNacimiento">Fecha de nacimiento</label>
                                                <input type="date" id="fechaNacimiento" name="fechaNacimiento" required>

                                                <!-- <label for="edad">Edad</label>
                                                <input type="number" id="edad" name="edad" min="18" max="122"
                                                    placeholder="Edad..." required> -->

                                                <label for="sexo">Sexo</label>
                                                <select id="sexo" name="sexo" required>
                                                    <option value="">Seleccione...</option>
                                                    <option value="FEMENINO">Femenino</option>
                                                    <option value="MASCULINO">Masculino</option>
                                                </select>
                                            </div>
                                            <div class="form-column right">
                                                <label for="direccion">Dirección</label>
                                                <input type="text" id="direccion" name="direccion"
                                                    placeholder="Dirección..." required>

                                                <label for="barrio">Barrio</label>
                                                <input type="text" id="barrio" name="barrio" placeholder="Barrio..."
                                                    required>

                                                <label for="ciudad">Ciudad</label>
                                                <select id="ciudad" name="ciudad" required>
                                                    <option value="">Seleccione...</option>
                                                    <option value="BOGOTÁ">Bogotá</option>
                                                    <option value="CALI">Cali</option>
                                                </select>

                                                <label for="nse">NSE</label>
                                                <input type="number" id="nse" name="nse" min="1" max="6"
                                                    placeholder="NSE..." required>

                                                <label for="telefono1">Teléfono 1</label>
                                                <input type="tel" id="telefono1" name="telefono1" maxlength="10"
                                                    placeholder="Teléfono...1" required>

                                                <label for="telefono2">Teléfono 2</label>
                                                <input type="tel" id="telefono2" name="telefono2" maxlength="10"
                                                    placeholder="Teléfono...2">

                                            </div>
                                            <!-- <div class="full-width-field">
                                                <label for="fechaNacimientoBebe">Fecha de nacimiento del bebé</label>
                                                <input type="date" id="fechaNacimientoBebe" name="fechaNacimientoBebe"
                                                    required>
                                            </div> -->
                                            <div class="form-actions">
                                                <button type="submit">Registrar Participante</button>
                                            </div>
                                        </form>
                                    </section>
                                </div>
                            </div>
                        </div>

                        <!-- Acordeon de seguimientos -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    Seguimiento
                                </button>
                            </h2>
                            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree">
                                <div class="accordion-body">
                                    <section id="seguimiento">
                                        <h2>Seguimiento de participantes</h2>
                                        <div class="filters">
                                            <div>
                                                <label for="buscadorSeguimiento">Buscar por nombre o teléfono</label>
                                                <input type="text" id="buscadorSeguimiento" name="buscadorSeguimiento"
                                                    placeholder="Buscar..." autocomplete="off">
                                            </div>
                                            <div>
                                                <label for="estado">Estado</label>
                                                <select id="estado" name="estado" class="selector-filtro">
                                                    <option value="">TODOS</option>
                                                    <option value="P_PACIENTE_FALLECIDO">P_PACIENTE_FALLECIDO</option>
                                                    <option value="NO_CONTESTA">NO_CONTESTA</option>
                                                </select>
                                            </div>
                                        </div>
                                        <!-- Scroll horizontal superior -->
                                        <div class="table-responsive-seguimiento table-scroll-top">
                                            <div class="table-scroll-top-spacer"></div>
                                            <!-- Solo para mostrar la barra de scroll arriba -->
                                        </div>
                                        <div class="table-responsive-seguimiento">
                                            <table class="tabla-seguimiento">
                                                <thead>
                                                    <tr>
                                                        <th class="col-nombre">Nombre</th>
                                                        <th>Teléfono</th>
                                                        <th>Email</th>
                                                        <th>Estado</th>
                                                        <th>Fecha de Registro</th>
                                                        <th class="col-proyecto">Proyecto</th>
                                                        <th>Efectividad</th>
                                                        <th>Fecha de efectividad</th>
                                                        <th class="col-observacion">Observación</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="seguimiento-tbody">
                                                </tbody>
                                            </table>
                                        </div>

                                        <div class="modal fade" id="modalObservacionUnica" tabindex="-1"
                                            aria-labelledby="modalObservacionUnicaLabel" aria-hidden="true">
                                            <div class="modal-dialog modal-dialog-centered modal-lg">
                                                <div class="modal-content rounded-4 shadow">
                                                    <div
                                                        class="modal-header modal-header-observacion bg-primary text-white rounded-top-4">
                                                        <h5 class="modal-title fw-bold modal-title-observacion"
                                                            id="modalObservacionUnicaLabel"></h5>
                                                        <button type="button" class="btn-close btn-close-white"
                                                            data-bs-dismiss="modal" aria-label="Cerrar"></button>
                                                    </div>
                                                    <div class="modal-body p-4">
                                                        <label class="mb-2 fw-semibold"
                                                            for="modalObservacionUnicaTextarea">Observación:</label>
                                                        <textarea id="modalObservacionUnicaTextarea"
                                                            class="form-control border-2 modal-textarea-observacion"
                                                            rows="4" readonly></textarea></div>
                                                </div>
                                            </div>
                                        </div>

                                    </section>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </section>

    </main>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/reclutador.js"></script>
    <script>
    // Sincronizar scroll horizontal arriba y abajo y ajustar el ancho del clon dinámicamente
    document.addEventListener('DOMContentLoaded', function() {
        var topScroll = document.querySelector('.table-scroll-top');
        var mainScroll = document.querySelectorAll('.table-responsive-seguimiento')[1];
        if (topScroll && mainScroll) {
            var table = mainScroll.querySelector('table');
            if (table) {
                var fakeTable = table.cloneNode(true);
                fakeTable.style.visibility = 'hidden';
                fakeTable.style.pointerEvents = 'none';
                fakeTable.style.margin = '0';
                fakeTable.style.height = '0';
                fakeTable.style.minHeight = '0';
                fakeTable.style.maxHeight = '0';
                fakeTable.style.position = 'absolute';
                fakeTable.style.top = '0';
                fakeTable.style.left = '0';
                // Función para actualizar el ancho del clon
                function updateFakeTableWidth() {
                    fakeTable.style.width = table.offsetWidth + 'px';
                }
                updateFakeTableWidth();
                // Actualizar el ancho cuando cambie el tamaño de la ventana o la tabla
                window.addEventListener('resize', updateFakeTableWidth);
                // Si el contenido de la tabla cambia dinámicamente
                var resizeObserver = new (window.ResizeObserver || window.MutationObserver)(function() {
                    updateFakeTableWidth();
                });
                if (window.ResizeObserver) {
                    resizeObserver.observe(table);
                } else {
                    // Fallback para navegadores antiguos
                    resizeObserver.observe(table, { childList: true, subtree: true, attributes: true });
                }
                topScroll.appendChild(fakeTable);
                topScroll.style.height = '18px';
                topScroll.style.position = 'relative';
                topScroll.style.overflowX = 'auto';
                topScroll.style.overflowY = 'hidden';
                // Sincronizar scroll
                topScroll.addEventListener('scroll', function() {
                    mainScroll.scrollLeft = topScroll.scrollLeft;
                });
                mainScroll.addEventListener('scroll', function() {
                    topScroll.scrollLeft = mainScroll.scrollLeft;
                });
            }
        }
    });
    </script>
</body>

</html>